<h2>Reset Your Password</h2>
<input type="password" id="new-password" placeholder="Enter your new password" />
<button id="reset-password-btn">Reset Password</button>
<p id="reset-status"></p>

<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
<script>
  // Capture the token from the URL
  const urlParams = new URLSearchParams(window.location.hash.replace('#', '?'));
  const token = urlParams.get('recovery_token');

  document.getElementById('reset-password-btn').addEventListener('click', function() {
    const newPassword = document.getElementById('new-password').value;
    
    // Use Netlify Identity to handle password reset
    netlifyIdentity
      .recover(token, newPassword)
      .then(() => {
        document.getElementById('reset-status').textContent = 'Password reset successful!';
      })
      .catch((error) => {
        document.getElementById('reset-status').textContent = 'Error resetting password: ' + error.message;
      });
  });
</script>
